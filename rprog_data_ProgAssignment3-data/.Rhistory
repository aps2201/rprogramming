deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Heart Attack","Heart Failure","Pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
outcome="Heart Attack"
x=subset(deathrate,deathrate$State==state)
x=x[outcome]
View(x)
x=subset(x,x[outcome])
x=subset(deathrate,deathrate$State==state)
x=subset(x,x[outcome])
x=subset(x,x[outcome]==min(x[outcome],nm.ra=T))
x$'Hospital Name'
x=subset(x,x[outcome]==min(x[outcome],nm.ra=T))
x=subset(deathrate,deathrate$State==state)
View(x)
min(x[outcome]
)
x[outcome]
x=subset(x,x[outcome]==min(x[outcome],rm.na=T))
x[outcome]
x=subset(x,x[outcome]==min(x[outcome],rm.na=T))
subset(x,x[outcome]==min(x[outcome],rm.na=T))
class(x[outcome])
subset(x,x[outcome]==min(x[outcome],rm.na=T))
x$`Heart Attack`
class(x$`Heart Attack`)
x[outcome]
x[outcome,1]
x[outcome,2]
x[outcome]
x[outcome][1]
x[outcome][2]
x[outcome][1]
subset(x,x[outcome]==min(x[outcome][1],rm.na=T))
class(x[outcome][1])
class(x[outcome][[1]])
x=subset(x,x[outcome]==min(x[outcome][[1]],rm.na=T))
x$'Hospital Name'
x=subset(deathrate,deathrate$State==state)
x=subset(x,x[outcome]==min(x[outcome][[1]],rm.na=T))
x=subset(deathrate,deathrate$State==state)
min(x[outcome])
min(x[outcome],rm.na=T)
min(x[outcome][[1]],rm.na=T)
min(x[outcome][[1]],na.rm =T)
x=subset(x,x[outcome]==min(x[outcome][[1]],na.rm=T))
x$'Hospital Name'
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","Heart Attacx")
best("TX","Heart Attack")
best("TX","Pneumonia")
source('~/Documents/Coursera/Data Science/R/submit.R', echo=TRUE)
best("TX","pneumonia")
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
grep(outcome,x,ignore.case = T
)
grep(pneumonia,x,ignore.case = T)
outcome="pneumonia"
grep(pneumonia,x,ignore.case = T)
state="TX"
x=subset(deathrate,deathrate$State==state)
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Heart Attack","Heart Failure","Pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=subset(x,x[grep(outcome,x,ignore.case = T)]==min(x[grep(outcome,x,ignore.case = T)][[1]],na.rm=T))
x$'Hospital Name'
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
validnum=hosdat$Provider.Number%in%ocm$'Provider Number'
validname=hosdat$Hospital.Name%in%ocm$'Hospital Name'
## Return hospital name in that state with lowest 30-day death
## rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Heart Attack","Heart Failure","Pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=subset(x,x[grep(outcome,x,ignore.case = T)]==min(x[grep(outcome,x,ignore.case = T)][[1]],na.rm=T))
x$'Hospital Name'
View(x)
x=subset(x,x[grep(outcome,x,ignore.case = T)]==min(x[grep(outcome,x,ignore.case = T)][[1]],na.rm=T))
min(x[grep(outcome,x,ignore.case = T)][[1]]
)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best()
best("TX")
best("TX","pneumonia")
best("TX","pneumonia")
best("TX","pneumonia")
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
source('~/Documents/Coursera/Data Science/R/submit.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
?warning
best("NN", "pneumonia")
testit <- function() warning("testit")
testit()
testit <- function() warning("testit")
testit <- function() warning("problem in testit", call. = FALSE)
testit()
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best()
best("NN","pneumonia")
best("WI","pneumonia")
best("WI","pneumonia")
best("TX","pneumonia")
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
if
{}
if()
if(a)
a
if(state=)
if(state=a)
if(state==a)
{}
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
states <- hosdat["State"]
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
best(TX,"pneumonia")
best("TX","pneumonia")
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
validnum=hosdat$Provider.Number%in%ocm$'Provider Number'
validname=hosdat$Hospital.Name%in%ocm$'Hospital Name'
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states <- hosdat["State"]
states <- unique(states)
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with lowest 30-day death
View(states)
class(states)
class(states[[1]])
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
validnum=hosdat$Provider.Number%in%ocm$'Provider Number'
validname=hosdat$Hospital.Name%in%ocm$'Hospital Name'
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=hosdat["State"]
states=unique(states)
states=as.character(states)
if( state %in% states == FALSE ) stop("invalid state")
state="TX"
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
validnum=hosdat$Provider.Number%in%ocm$'Provider Number'
validname=hosdat$Hospital.Name%in%ocm$'Hospital Name'
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=hosdat["State"]
states=unique(states)
states=as.character(states)
if( state %in% states == FALSE ) stop("invalid state")
"TX" %in% states
states=hosdat["State"]
View(states)
unique(states)
states=unique(states)
if( state %in% states == FALSE ) stop("invalid state")
states=as.character(states)
states=unique(as.character(states))
states=hosdat["State"]
View(states)
"TX" %in% states
as.character(states)
states=ocm["State"]
states=unique((states))
"TX" %in% states
View(states)
states=ocm[,7]
states=unique((states))
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
"TX" %in% states
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/best.R', echo=TRUE)
best("TX","pneumonia")
best("TX","pneumona")
best("TX","pneumonia")
best("TB","pneumonia")
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
x=subset(deathrate,deathrate$State==state&&x[outcome])
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state&&x[outcome])
outcome="heart attack"
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state&&x[outcome])
subset(deathrate,deathrate$State==state&&x[outcome])
subset(deathrate,deathrate$State==state&x[outcome])
subset(deathrate,deathrate$State==state
)
subset(deathrate,deathrate$State==state)
x=sort(x[outcome])
x=subset(deathrate,deathrate$State==state)
x=sort(x[outcome])
View(x)
x=sort(x[outcome])
x=sort(x,x[outcome])
?sort
x=arder(x,x[outcome])
x=order(x,x[outcome])
x=order(x[outcome])
x=x[order(x[outcome])[]
]
x=x[order(x[outcome])]
x=subset(deathrate,deathrate$State==state)
x=subset(deathrate,deathrate$State==state)
x=order(x[outcome])
x=subset(x,x[outcome]==min(x[outcome][[1]],na.rm=T))
x=subset(deathrate,deathrate$State==state)
x=order(x[outcome])
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome]),]
View(x)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/rankhospital.R', echo=TRUE)
state="TX"
outcome="heart attack"
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome]),]
as.character(x$'Hospital Name')
View(x)
?order
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome]),NA]
as.character(x$'Hospital Name')
View(x)
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome]),na.last=NA]
as.character(x$'Hospital Name')
View(x)
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome],na.last=NA)]
as.character(x$'Hospital Name')
View(x)
rm.na
na.rm
na.rm()
rm.na()
rankhospital <- function(state, outcome, num = "best") {
## Read outcome data
## Read outcome data
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome])]
as.character(x$'Hospital Name')
ocm=read.csv("outcome-of-care-measures.csv")
hosdat=read.csv("hospital-data.csv")
colnames(ocm)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County Name","Phone Number","Hospital 30-Day Death (Mortality) Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Attack","Hospital 30-Day Death (Mortality) Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Footnote - Hospital 30-Day Death (Mortality) Rates from Heart Failure","Hospital 30-Day Death (Mortality) Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Number of Patients - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Footnote - Hospital 30-Day Death (Mortality) Rates from Pneumonia","Hospital 30-Day Readmission Rates from Heart Attack","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Attack","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Attack","Number of Patients - Hospital 30-Day Readmission Rates from Heart Attack","Footnote - Hospital 30-Day Readmission Rates from Heart Attack","Hospital 30-Day Readmission Rates from Heart Failure","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Heart Failure","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Heart Failure","Number of Patients - Hospital 30-Day Readmission Rates from Heart Failure","Footnote - Hospital 30-Day Readmission Rates from Heart Failure","Hospital 30-Day Readmission Rates from Pneumonia","Comparison to U.S. Rate - Hospital 30-Day Readmission Rates from Pneumonia","Lower Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Upper Readmission Estimate - Hospital 30-Day Readmission Rates from Pneumonia","Number of Patients - Hospital 30-Day Readmission Rates from Pneumonia","Footnote - Hospital 30-Day Readmission Rates from Pneumonia")
colnames(hosdat)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","Hospital Type","Hospital Ownership","Emergency Services")
## Check that state and outcome are valid
outcomes = c("heart attack", "heart failure", "pneumonia")
if( outcome %in% outcomes == FALSE ) stop("invalid outcome")
states=ocm[,7]
states=unique((states))
if( state %in% states == FALSE ) stop("invalid state")
## Return hospital name in that state with the given rank
## 30-day death rate
deathrate=grep("^Hospital 30-Day",colnames(ocm))
deathrate=ocm[,c(1:10,deathrate)]
deathrate=deathrate[,1:13]
colnames(deathrate)=c("Provider Number","Hospital Name","Address 1","Address 2","Address 3","City","State","ZIP Code","County","Phone Number","heart attack","heart failure","pneumonia")
for (i in 11:13){
deathrate[,i]=as.numeric(as.character(deathrate[,i]))
}
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome])]
x=cbind(x[,c(1,2,7)],x[outcome])
as.character(x$'Hospital Name')
)
x=cbind(x[,c(1,2,7)],x[outcome])
View(x)
x=x[order(x[outcome])]
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome])]
x=cbind(x[,c(1,2,7)],x[outcome])
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome])]
View(x)
x=order(x[outcome])
x=cbind(x[,c(1,2,7)],x[outcome])
View(ocm)
x=orderx[(x[outcome]),]
x=x[order(x[outcome]),]
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome]),]
x=cbind(x[,c(1,2,7)],x[outcome])
View(x)
rm.na
x=subset(deathrate,deathrate$State==state)
x=x[order(x[outcome]),]
x=cbind(x[,c(1,2,7)],x[outcome])
x=na.omit(x)
View(x)
length(x)
length(x[1])
length(x[,1])
nrow(x)
x=cbind(x,1:nrow(x))
View(x)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/rankhospital.R', echo=TRUE)
rankhospital("TX",pneumonia)
rankhospital("TX","pneumonia")
rankhospital("WI","pneumonia")
as.character(x$'Hospital Name')
as.character(x$'Hospital Name'[1])
as.character(x$'Hospital Name'[2])
num==numeric
num=1
num==numeric
num==numeric()
num==numeric
num=as.numeric(1)
num==numeric
num=as.numeric("1")
num==numeric
class(num)
num==numeric()
num==numeric
is.numeric()
is.numeric()1
is.numeric(1)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/rankhospital.R', echo=TRUE)
rankhospital("TX",pneumonia)
rankhospital("TX","pneumonia")
rankhospital("TX","pneumonia",1)
rankhospital("TX","pneumonia",2)
rankhospital("TX","pneumonia",3)
rankhospital("TX","pneumonia","worst")
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
source('~/Documents/Coursera/Data Science/R/rprog_data_ProgAssignment3-data/submitscript3.R', echo=TRUE)
